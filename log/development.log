DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddCategories (20090829175243)
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TABLE "products_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "permalink" varchar(255), "description" text, "is_active" boolean DEFAULT 'f', "parent_id" integer, "lft" integer, "rgt" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090829175243')[0m
Migrating to AddItems (20090829185344)
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE TABLE "products_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "permalink" varchar(255), "sku" varchar(255), "description" text, "price" float, "retail_price" float, "is_active" boolean DEFAULT 'f', "category_id" integer, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090829185344')[0m
Migrating to AddItemsCounter (20090901002122)
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: no such table: product_categories: ALTER TABLE "product_categories" ADD "items_count" integer DEFAULT 0[0m
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
/!\ FAILSAFE /!\  Fri Jan 03 14:38:03 +0200 2014
  Status: 500 Internal Server Error
  no such file to load -- mysql
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `gem_original_require'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `require'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activesupport-2.3.11/lib/active_support/dependencies.rb:182:in `require'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activesupport-2.3.11/lib/active_support/dependencies.rb:547:in `new_constants_in'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activesupport-2.3.11/lib/active_support/dependencies.rb:182:in `require'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activesupport-2.3.11/lib/active_support/core_ext/kernel/requires.rb:7:in `require_library_or_gem'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activesupport-2.3.11/lib/active_support/core_ext/kernel/reporting.rb:11:in `silence_warnings'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activesupport-2.3.11/lib/active_support/core_ext/kernel/requires.rb:5:in `require_library_or_gem'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:61:in `mysql_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/query_cache.rb:9:in `cache'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/query_cache.rb:28:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/string_coercion.rb:25:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/head.rb:9:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/methodoverride.rb:24:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/params_parser.rb:15:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/session/cookie_store.rb:99:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/failsafe.rb:26:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `synchronize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:114:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/reloader.rb:34:in `run'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:108:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/rails/rack/static.rb:31:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:47:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:41:in `each'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:41:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/content_length.rb:13:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/handler/webrick.rb:48:in `service'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/handler/webrick.rb:14:in `run'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/commands/server.rb:111
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `gem_original_require'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `require'
    script/server:3
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
/!\ FAILSAFE /!\  Fri Jan 03 14:39:57 +0200 2014
  Status: 500 Internal Server Error
  Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:620:in `real_connect'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:620:in `connect'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:203:in `initialize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:75:in `new'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:75:in `mysql_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/query_cache.rb:9:in `cache'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/query_cache.rb:28:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/string_coercion.rb:25:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/head.rb:9:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/methodoverride.rb:24:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/params_parser.rb:15:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/session/cookie_store.rb:99:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/failsafe.rb:26:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `synchronize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:114:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/reloader.rb:34:in `run'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:108:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/rails/rack/static.rb:31:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:47:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:41:in `each'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:41:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/content_length.rb:13:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/handler/webrick.rb:48:in `service'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/handler/webrick.rb:14:in `run'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/commands/server.rb:111
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `gem_original_require'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `require'
    script/server:3
/!\ FAILSAFE /!\  Fri Jan 03 14:41:18 +0200 2014
  Status: 500 Internal Server Error
  Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:620:in `real_connect'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:620:in `connect'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:203:in `initialize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:75:in `new'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/mysql_adapter.rb:75:in `mysql_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/query_cache.rb:9:in `cache'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/query_cache.rb:28:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/string_coercion.rb:25:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/head.rb:9:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/methodoverride.rb:24:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/params_parser.rb:15:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/session/cookie_store.rb:99:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/failsafe.rb:26:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `synchronize'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/lock.rb:11:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:114:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/reloader.rb:34:in `run'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/actionpack-2.3.11/lib/action_controller/dispatcher.rb:108:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/rails/rack/static.rb:31:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:47:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:41:in `each'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/urlmap.rb:41:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/content_length.rb:13:in `call'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/handler/webrick.rb:48:in `service'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rack-1.1.6/lib/rack/handler/webrick.rb:14:in `run'
    /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/rails-2.3.11/lib/commands/server.rb:111
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `gem_original_require'
    /home/pasha/.rvm/rubies/ruby-1.8.7-p374/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:55:in `require'
    script/server:3
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
  [4;36;1mSQL (1.8ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PagesController#index (for 127.0.0.1 at 2014-01-03 14:44:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"pages"}
  [4;36;1mProduct::Item Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (13.5ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.show_on_home = 1) AND (`product_items`.`is_active` = 1)) ORDER BY product_items.position_on_home ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (2.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mProduct::Image Load (6.5ms)[0m   [0;1mSELECT `product_images`.* FROM `product_images` WHERE (`product_images`.item_id IN (2191,2192,2194,2197,2199,2200,2203,2205)) ORDER BY position ASC[0m
  [4;35;1mSQL (42.0ms)[0m   [0mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.show_on_home = 1) AND (`product_items`.`is_active` = 1)) [0m
Rendering template within layouts/application
Rendering pages/index
Rendered products/_items (214.9ms)
  [4;36;1mUser Columns (4.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;35;1mProduct::Category Load (2.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;36;1mProduct::Category Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProduct::Category Load (1.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (1.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (1.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (2.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (1.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (1.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (1.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (3.0ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 722ms (View: 451, DB: 119) | 200 OK [http://0.0.0.0/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:44:57) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["am80"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (1.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'am80' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Item Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `product_items`[0m
  [4;36;1mProduct::Item Load (1.1ms)[0m   [0;1mSELECT * FROM `product_items` WHERE (`product_items`.`permalink` = 'am80') AND (`product_items`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 293) [0m
  [4;35;1mProduct::Category Load (1.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`lft` <= 4 AND `product_categories`.`rgt` >= 5) ORDER BY `lft`[0m
  [4;36;1mProduct::FormField Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `product_form_fields`[0m
  [4;35;1mProduct::FormField Load (1.7ms)[0m   [0mSELECT * FROM `product_form_fields` WHERE (`product_form_fields`.`type_id` = 7) ORDER BY position[0m
  [4;36;1mProduct::Data Load (5.3ms)[0m   [0;1mSELECT * FROM `product_data` WHERE (`product_data`.item_id = 2191) [0m
  [4;35;1mProduct::Data Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `product_data`[0m
  [4;36;1mProduct::FieldValue Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `product_field_values`[0m
  [4;35;1mProduct::FieldValue Load (1.5ms)[0m   [0mSELECT * FROM `product_field_values` WHERE (`product_field_values`.`field_id` IN (20,18,22,19)) ORDER BY position[0m
  [4;36;1mProduct::Image Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mProduct::Image Load (4.2ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.item_id = 2191) ORDER BY position, position ASC[0m
Rendering template within layouts/application
Rendering products/item
  [4;35;1mUser Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.6ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 625ms (View: 190, DB: 52) | 200 OK [http://0.0.0.0/products/am80]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PagesController#page (for 127.0.0.1 at 2014-01-03 14:44:58) [GET]
  Parameters: {"action"=>"page", "controller"=>"pages", "path"=>["stylesheets", "offer.css"]}
  [4;36;1mPage Columns (6.8ms)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (5.0ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`url` = '/stylesheets/offer.css') LIMIT 1[0m
  [4;36;1mSystemPage Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `system_pages`[0m
  [4;35;1mSystemPage Load (0.9ms)[0m   [0mSELECT * FROM `system_pages` WHERE (`system_pages`.`system_name` = 'ERROR_404') LIMIT 1[0m
Rendering template within layouts/application
Rendering pages/page (404)
  [4;36;1mUser Columns (5.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;36;1mProduct::Category Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (1.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (2.0ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 565ms (View: 445, DB: 37) | 404 Not Found [http://0.0.0.0/stylesheets/offer.css]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:45:07) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["earrings"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (1.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'earrings' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (1.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 282) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 282) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (3.9ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 282) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 282))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.6ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 282) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 282))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (3.1ms)
Rendered products/_categories (14.8ms)
Rendered products/_items (7.2ms)
Rendered products/_nofound (4.1ms)
  [4;35;1mUser Columns (5.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.9ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 630ms (View: 384, DB: 40) | 200 OK [http://0.0.0.0/products/earrings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:45:09) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["bracelets"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'bracelets' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (1.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 285) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 285) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (3.5ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 285) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 285))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.4ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 285) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 285))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (1.5ms)
Rendered products/_categories (7.8ms)
Rendered products/_items (0.3ms)
Rendered products/_nofound (0.2ms)
  [4;35;1mUser Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.7ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 549ms (View: 300, DB: 37) | 200 OK [http://0.0.0.0/products/bracelets]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:45:11) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["pendants"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (1.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'pendants' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (1.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 289) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 289) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (5.7ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 289) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 289))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 289) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 289))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (1.3ms)
Rendered products/_categories (12.0ms)
Rendered products/_items (0.4ms)
Rendered products/_nofound (1.4ms)
  [4;35;1mUser Columns (5.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.6ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 449ms (View: 151, DB: 45) | 200 OK [http://0.0.0.0/products/pendants]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PagesController#page (for 127.0.0.1 at 2014-01-03 14:45:15) [GET]
  Parameters: {"action"=>"page", "controller"=>"pages", "path"=>["about"]}
  [4;36;1mPage Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.8ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`url` = '/about') LIMIT 1[0m
Rendering template within layouts/application
Rendering pages/page
  [4;36;1mUser Columns (5.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;36;1mProduct::Category Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (2.4ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 272ms (View: 207, DB: 25) | 200 OK [http://0.0.0.0/about]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:45:17) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["rings"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (1.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'rings' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (1.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 284) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 284) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (6.0ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 284) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 284))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mProduct::Image Load (3.8ms)[0m   [0;1mSELECT `product_images`.* FROM `product_images` WHERE (`product_images`.item_id IN (2530,2552,2553,2554)) ORDER BY position ASC[0m
  [4;35;1mSQL (18.8ms)[0m   [0mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 284) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 284))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (1.9ms)
Rendered products/_categories (23.4ms)
Rendered products/_items (30.3ms)
Rendered products/_nofound (0.4ms)
  [4;36;1mUser Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mTestimonial Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `testimonials`[0m
  [4;36;1mTestimonial Load (1.8ms)[0m   [0;1mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 653ms (View: 184, DB: 61) | 200 OK [http://0.0.0.0/products/rings]
  [4;35;1mSQL (0.8ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:45:20) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["rings", "diamond-rings"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'rings' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;36;1mProduct::Category Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProduct::Category Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'diamond-rings' AND `product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;36;1mProduct::Category Load (1.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 308) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 308) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (6.0ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 308) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 308))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mProduct::Image Load (5.0ms)[0m   [0;1mSELECT `product_images`.* FROM `product_images` WHERE (`product_images`.item_id IN (2194,2224,2293,2412,2478,2491,2493,2507,2518,2640,2652,2658)) ORDER BY position ASC[0m
  [4;35;1mSQL (130.7ms)[0m   [0mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 308) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 308))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 308) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 308))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (2.5ms)
Rendered products/_categories (0.3ms)
Rendered products/_items (92.6ms)
Rendered products/_nofound (0.3ms)
  [4;35;1mUser Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (5.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.6ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 779ms (View: 210, DB: 175) | 200 OK [http://0.0.0.0/products/rings/diamond-rings]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#add_to_cart (for 127.0.0.1 at 2014-01-03 14:45:32) [GET]
  Parameters: {"action"=>"add_to_cart", "controller"=>"products", "id"=>"2518"}
  [4;36;1mProduct::Item Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (1.0ms)[0m   [0mSELECT * FROM `product_items` WHERE (`product_items`.`id` = 2518) [0m
  [4;36;1mCart Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `carts`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mCart Create (1.8ms)[0m   [0;1mINSERT INTO `carts` (`created_at`, `updated_at`, `purchased_at`) VALUES('2014-01-03 12:45:32', '2014-01-03 12:45:32', NULL)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mCartItem Load (1.5ms)[0m   [0;1mSELECT * FROM `cart_items` WHERE (`cart_items`.cart_id = 43868 AND (`cart_items`.`product_id` = 2518)) LIMIT 1[0m
  [4;35;1mCartItem Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `cart_items`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCartItem Create (1.0ms)[0m   [0mINSERT INTO `cart_items` (`created_at`, `price_wire`, `sku`, `updated_at`, `price_cc`, `product_id`, `quantity`, `name`, `cart_id`) VALUES('2014-01-03 12:45:32', 3500.0, 'AK27', '2014-01-03 12:45:32', 3500.0, 2518, 1, '2.00 CT WHITE GOLD YELLOW DIAMOND FASHION RING 18 KT ', 43868)[0m
  [4;36;1mCart Load (1.0ms)[0m   [0;1mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;35;1mOrder Load (3.2ms)[0m   [0mSELECT * FROM `orders` WHERE (`orders`.cart_id = 43868) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://0.0.0.0:3000/cart
Completed in 175ms (DB: 22) | 302 Found [http://0.0.0.0/products/add_to_cart/2518]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CartController#index (for 127.0.0.1 at 2014-01-03 14:45:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"cart"}
  [4;35;1mCart Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `carts`[0m
  [4;36;1mCart Load (0.7ms)[0m   [0;1mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;35;1mCartItem Load (3.7ms)[0m   [0mSELECT * FROM `cart_items` WHERE (`cart_items`.`cart_id` = 43868) ORDER BY id[0m
  [4;36;1mCartItem Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `cart_items`[0m
  [4;35;1mProduct::Item Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `product_items`[0m
  [4;36;1mProduct::Item Load (0.3ms)[0m   [0;1mSELECT * FROM `product_items` WHERE (`product_items`.`id` = 2518) [0m
  [4;35;1mProduct::Image Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mSetting Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `settings`[0m
  [4;35;1mSetting Load (0.4ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mProduct::Image Load (5.0ms)[0m   [0mSELECT `product_images`.* FROM `product_images` WHERE (`product_images`.item_id = 2518) ORDER BY position ASC[0m
Rendering template within layouts/application
Rendering cart/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;35;1mOrder Load (0.9ms)[0m   [0mSELECT * FROM `orders` WHERE (`orders`.cart_id = 43868) LIMIT 1[0m
  [4;36;1mCartItem Load (0.9ms)[0m   [0;1mSELECT * FROM `cart_items` WHERE (`cart_items`.cart_id = 43868) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `orders` WHERE (`orders`.cart_id = 43868) LIMIT 1[0m
Rendered cart/_cart (80.2ms)
  [4;35;1mUser Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mTestimonial Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `testimonials`[0m
  [4;36;1mTestimonial Load (1.8ms)[0m   [0;1mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 471ms (View: 267, DB: 42) | 200 OK [http://0.0.0.0/cart]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CheckoutController#index (for 127.0.0.1 at 2014-01-03 14:45:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"checkout"}
  [4;35;1mCart Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `carts`[0m
  [4;36;1mCart Load (0.3ms)[0m   [0;1mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;35;1mCartItem Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `cart_items`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `cart_items` WHERE (`cart_items`.cart_id = 43868) [0m
Redirected to http://0.0.0.0:3000/checkout/confirm
Completed in 61ms (DB: 8) | 302 Found [http://0.0.0.0/checkout]
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CheckoutController#confirm (for 127.0.0.1 at 2014-01-03 14:45:36) [GET]
  Parameters: {"action"=>"confirm", "controller"=>"checkout"}
  [4;35;1mCart Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `carts`[0m
  [4;36;1mCart Load (0.3ms)[0m   [0;1mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;35;1mCartItem Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `cart_items`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `cart_items` WHERE (`cart_items`.cart_id = 43868) [0m
  [4;35;1mOrder Columns (5.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
WARNING: Can't mass-assign these protected attributes: status
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mOrder Create (0.8ms)[0m   [0mINSERT INTO `orders` (`delivery_method`, `delivery_price`, `token`, `created_at`, `updated_at`, `shipping_is_billing`, `items_price`, `user_id`, `note`, `name`, `status`, `total_price`, `completed_at`, `ip_address`, `payment_method`, `billing_address`, `shipping_address`, `credit_card`, `email`, `instructions`, `cart_id`) VALUES('2nd_day', 0.0, 'b7bd31a290f54ebfdb61a5a606886f8c', '2014-01-03 12:45:37', '2014-01-03 12:45:37', 1, 0.0, NULL, NULL, NULL, NULL, 0.0, NULL, '127.0.0.1', 'bank_wire', NULL, NULL, NULL, NULL, NULL, 43868)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://0.0.0.0:3000/checkout/edit
Completed in 153ms (DB: 14) | 302 Found [http://0.0.0.0/checkout/confirm]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CheckoutController#edit (for 127.0.0.1 at 2014-01-03 14:45:37) [GET]
  Parameters: {"action"=>"edit", "controller"=>"checkout"}
  [4;35;1mCart Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `carts`[0m
  [4;36;1mCart Load (0.3ms)[0m   [0;1mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;35;1mCartItem Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `cart_items`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `cart_items` WHERE (`cart_items`.cart_id = 43868) [0m
  [4;35;1mOrder Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mOrder Load (0.8ms)[0m   [0;1mSELECT * FROM `orders` WHERE (`orders`.`id` = 90) [0m
Rendering template within layouts/application
Rendering checkout/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;36;1mCartItem Load (0.4ms)[0m   [0;1mSELECT * FROM `cart_items` WHERE (`cart_items`.cart_id = 43868) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `carts` WHERE (`carts`.`id` = 43868) [0m
  [4;36;1mOrder Load (0.9ms)[0m   [0;1mSELECT * FROM `orders` WHERE (`orders`.cart_id = 43868) LIMIT 1[0m
Rendered checkout/_form (175.4ms)
  [4;35;1mUser Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (4.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mTestimonial Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `testimonials`[0m
  [4;36;1mTestimonial Load (2.3ms)[0m   [0;1mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 693ms (View: 548, DB: 35) | 200 OK [http://0.0.0.0/checkout/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PagesController#page (for 127.0.0.1 at 2014-01-03 14:45:56) [GET]
  Parameters: {"action"=>"page", "controller"=>"pages", "path"=>["contact"]}
  [4;35;1mPage Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `pages`[0m
  [4;36;1mPage Load (0.8ms)[0m   [0;1mSELECT * FROM `pages` WHERE (`pages`.`url` = '/contact') LIMIT 1[0m
Rendering template within layouts/application
Rendering pages/page
  [4;35;1mUser Columns (5.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`parent_id` IS NULL AND `product_categories`.`is_active` = 1)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mTestimonial Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `testimonials`[0m
  [4;36;1mTestimonial Load (1.9ms)[0m   [0;1mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 407ms (View: 349, DB: 23) | 200 OK [http://0.0.0.0/contact]
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PagesController#page (for 127.0.0.1 at 2014-01-03 14:52:08) [GET]
  Parameters: {"action"=>"page", "controller"=>"pages", "path"=>["contact"]}
  [4;36;1mPage Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `pages`[0m
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM `pages` WHERE (`pages`.`url` = '/contact') LIMIT 1[0m
Rendering template within layouts/application
Rendering pages/page
  [4;36;1mUser Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;35;1mProduct::Category Load (1.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((`product_categories`.`is_active` = 1 AND `product_categories`.`parent_id` IS NULL)) ORDER BY `lft`[0m
  [4;36;1mProduct::Category Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.6ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 416ms (View: 357, DB: 22) | 200 OK [http://0.0.0.0/contact]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:52:11) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["bracelets"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'bracelets' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 285) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 285) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (0.5ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 285) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 285))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 285) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 285))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (4.6ms)
Rendered products/_categories (31.2ms)
Rendered products/_items (9.5ms)
Rendered products/_nofound (2.5ms)
  [4;35;1mUser Columns (6.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`is_active` = 1 AND `product_categories`.`parent_id` IS NULL)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (2.7ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 642ms (View: 410, DB: 29) | 200 OK [http://0.0.0.0/products/bracelets]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#list_or_item (for 127.0.0.1 at 2014-01-03 14:52:13) [GET]
  Parameters: {"action"=>"list_or_item", "controller"=>"products", "path"=>["earrings"]}
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`permalink` = 'earrings' AND `product_categories`.`parent_id` IS NULL) AND (`product_categories`.`is_active` = 1) LIMIT 1[0m
  [4;35;1mProduct::Category Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((product_categories.parent_id = 282) AND (`product_categories`.`is_active` = 1)) ORDER BY product_categories.lft ASC[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `product_categories` WHERE ((product_categories.parent_id = 282) AND (`product_categories`.`is_active` = 1)) [0m
  [4;36;1mProduct::Item Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (0.4ms)[0m   [0mSELECT * FROM `product_items` WHERE ((product_items.category_id = 282) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 282))) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE ((product_items.category_id = 282) AND ((`product_items`.`is_active` = 1) AND (`product_items`.category_id = 282))) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (1.5ms)
Rendered products/_categories (9.6ms)
Rendered products/_items (0.3ms)
Rendered products/_nofound (0.3ms)
  [4;35;1mUser Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`is_active` = 1 AND `product_categories`.`parent_id` IS NULL)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mTestimonial Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `testimonials`[0m
  [4;35;1mTestimonial Load (1.7ms)[0m   [0mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 539ms (View: 296, DB: 27) | 200 OK [http://0.0.0.0/products/earrings]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#search (for 127.0.0.1 at 2014-01-03 14:52:20) [GET]
  Parameters: {"q"=>"diamonds", "x"=>"-238", "y"=>"-176", "action"=>"search", "controller"=>"products"}
  [4;36;1mProduct::Item Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `product_items`[0m
  [4;35;1mProduct::Item Load (23.8ms)[0m   [0mSELECT * FROM `product_items` WHERE (((product_items.name LIKE '%diamonds%') OR (product_items.sku LIKE '%diamonds%') OR (product_items.description LIKE '%diamonds%')) AND (`product_items`.`is_active` = 1)) ORDER BY product_items.position ASC LIMIT 0, 12[0m
  [4;36;1mProduct::Image Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `product_images`[0m
  [4;35;1mSetting Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `settings`[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`name` = 'root_url') LIMIT 1[0m
  [4;36;1mProduct::Image Load (5.6ms)[0m   [0;1mSELECT `product_images`.* FROM `product_images` WHERE (`product_images`.item_id IN (2190,2175,2176,2177,2183,2192,2194,2197,2530,2205,2206,2222)) ORDER BY position ASC[0m
  [4;35;1mSQL (1853.3ms)[0m   [0mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE (((product_items.name LIKE '%diamonds%') OR (product_items.sku LIKE '%diamonds%') OR (product_items.description LIKE '%diamonds%')) AND (`product_items`.`is_active` = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `product_items`.id) AS count_all FROM `product_items` LEFT OUTER JOIN `product_images` ON product_images.item_id = product_items.id WHERE (((product_items.name LIKE '%diamonds%') OR (product_items.sku LIKE '%diamonds%') OR (product_items.description LIKE '%diamonds%')) AND (`product_items`.`is_active` = 1)) [0m
Rendering template within layouts/application
Rendering products/list
Rendered products/_navigation (1.4ms)
Rendered products/_categories (0.4ms)
Rendered products/_items (118.3ms)
Rendered products/_nofound (0.4ms)
  [4;35;1mUser Columns (5.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`is_active` = 1 AND `product_categories`.`parent_id` IS NULL)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mTestimonial Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `testimonials`[0m
  [4;36;1mTestimonial Load (1.7ms)[0m   [0;1mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 2406ms (View: 302, DB: 1912) | 200 OK [http://0.0.0.0/products/search?q=diamonds&x=-238&y=-176]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#signup (for 127.0.0.1 at 2014-01-03 14:52:41) [GET]
  Parameters: {"action"=>"signup", "controller"=>"users"}
  [4;35;1mUser Columns (5.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/application
Rendering users/signup
Rendered users/_form (60.7ms)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:63)
DEPRECATION WARNING: ActiveRecord::Base#class_name is deprecated and will be removed in Rails 2.3.9. (called from acts_as_nested_set at /home/pasha/work1/rails2/esmeralda/vendor/plugins/awesome_nested_set-1.4.2/lib/awesome_nested_set.rb:65)
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((`product_categories`.`is_active` = 1 AND `product_categories`.`parent_id` IS NULL)) ORDER BY `lft`[0m
  [4;35;1mProduct::Category Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 284) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 282) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 285) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 289) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 283) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 327) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 331) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 332) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 336) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mProduct::Category Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 337) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;36;1mProduct::Category Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`parent_id` = 343) AND (`product_categories`.`is_active` = 1) ORDER BY lft[0m
  [4;35;1mTestimonial Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `testimonials`[0m
  [4;36;1mTestimonial Load (2.0ms)[0m   [0;1mSELECT * FROM `testimonials` WHERE (`testimonials`.`is_active` = 1) ORDER BY RAND() LIMIT 1[0m
Completed in 308ms (View: 260, DB: 19) | 200 OK [http://0.0.0.0/signup]
DEPRECATION WARNING: require "activerecord" is deprecated and will be removed in Rails 3. Use require "active_record" instead. (called from /home/pasha/.rvm/gems/ruby-1.8.7-p374/gems/activerecord-2.3.11/lib/activerecord.rb:2)
DEPRECATION WARNING: Kernel#returning has been deprecated in favor of Object#tap. (called from enable_activerecord at /home/pasha/work1/rails2/esmeralda/vendor/plugins/will_paginate-2.3.6/lib/will_paginate.rb:39)
